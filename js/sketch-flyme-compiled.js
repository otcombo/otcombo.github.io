p5.disableFriendlyErrors=!0;var play_it=1,BUBBLE=function(){this.mass=this.first_time=1;800>width?(this.size=100,this.g=createVector(-.01,0)):(this.size=300,this.g=createVector(-.03,0));this.pos=createVector(0,0);this.vel=createVector(0,0);this.acc=createVector(0,0)};
BUBBLE.prototype.initial=function(){this.pos=createVector(width,random(height));this.vel=createVector(0,0);this.acc=createVector(0,0);var a=map(this.pos.y,0,height/2,0,PI/2);this.life=sin(a)*this.size;this.color_H=map(sin(a),0,1,200,270);this.color_S=90;this.color_B=100;this.opacity=0};BUBBLE.prototype.show=function(){colorMode(HSB);fill(this.color_H,this.color_S,this.color_B,this.opacity);noStroke();ellipse(this.pos.x,this.pos.y,this.life,this.life)};
BUBBLE.prototype.applyForce=function(a){a=p5.Vector.div(a,this.mass);this.acc.add(a)};BUBBLE.prototype.move=function(){this.applyForce(this.g);this.vel.add(this.acc);this.pos.add(this.vel);this.acc.mult(0)};BUBBLE.prototype.update=function(){var a=map(this.pos.y,0,height,1,0)/3;this.opacity=this.first_time?0:this.opacity+a;this.life-=this.size/220;this.color_H-=2*a;0>=this.life&&(this.first_time=0,this.initial())};var bubbles=Array(100),bubble_amount;
function setup(){var a=select("#sketch");a=createCanvas(a.width,a.height);a.parent("sketch");bubble_amount=800>width?50:100;for(var b=0;b<bubbles.length;b++)bubbles[b]=new BUBBLE,bubbles[b].initial();a.mouseOver(checkState);a.mouseOut(checkState);frameRate(60);noStroke()}function draw(){background("#C3EBFF");for(var a=0;a<bubbles.length;a++)bubbles[a].move(),bubbles[a].update(),bubbles[a].show()}function checkState(){play_it?(loop(),play_it=0):(noLoop(),play_it=1)};
